---
title: "Import Bee Data"
format: html
---

```{r setup, include=FALSE}
# Load packages
library(googledrive)
library(readr)
library(dplyr)

# Authenticate for private Google Drive access
options(
  gargle_oauth_cache = ".secrets",
  gargle_oauth_email = "lebuhn@sfsu.edu"  # ensure this matches your Google account
)

drive_auth(cache = ".secrets")
```

```{r import, echo=FALSE}
# Define the folder and file names
folder <- drive_get("github_data/bees_climate_data/processed")
selected_file <- "bee_temp_data.csv"  # <<< change this if you want a different file

# Find that file inside the folder
file <- drive_ls(folder) %>% filter(name == selected_file)

# Download to a temporary file
tmp <- tempfile(fileext = ".csv")
drive_download(file, path = tmp, overwrite = TRUE)

# Read the data
data <- read_csv(tmp)

# Quick preview
head(data)
```
